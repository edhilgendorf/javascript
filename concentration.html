<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Javascript | Concentration</title>
<link href="greg.css" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">

    var firstCell = 0;
    var secondCell = 0;
    var clickS = 0;
    var cellA = 0;
    var cellB = 0;
	var fPA = 0;
	var fPB = 0;
	var sPA = 0;
	var SPB = 0;
	var cTW = 0;
	var winNum = 0;
	var win = 0;
		function ckWin() 
		{
						win = 1;
						for (var i = 0; i < 4; i++) 
						{
							for (var j = 0; j < 4; j++) 
							{
								if(cells[i][j].innerText == "?")
								{
									win = 0;
									break;
								}
							}
						}
						if (win == 1)
						{
							alert("winner");
							setup();
							win = 0;
						}			
		}
		function setup() 
		{
		
            aCells = new Array(
            [2,7,1,7],
            [8,4,6,5],
            [1,9,4,8],
            [5,6,2,9])

            cells = new Array(
            [document.getElementById("cell00"), document.getElementById("cell01"), document.getElementById("cell02"), document.getElementById("cell03")],
            [document.getElementById("cell10"), document.getElementById("cell11"), document.getElementById("cell12"), document.getElementById("cell13")],
            [document.getElementById("cell20"), document.getElementById("cell21"),document.getElementById("cell22"), document.getElementById("cell23")],
            [document.getElementById("cell30"), document.getElementById("cell31"), document.getElementById("cell32"), document.getElementById("cell33")]);
            placePuzzle();
        }

        function doClick(cellA, cellB)
        {

		        if(clickS == 1)
				{
					sPA = parseInt(cellA);
					sPB = parseInt(cellB);
					nData = document.createTextNode(aCells[cellA][cellB]);
					oData = cells[cellA][cellB];
					secondCell = aCells[cellA][cellB];

					oData.replaceChild(nData, oData.childNodes[0]); 
					clickS = 0;
					alert("First number: " + firstCell + ", second number: " + secondCell);
					ckWin();
					
					if(firstCell != secondCell)
					{
						var newLetter = document.createTextNode("?");
						var oldNumber = cells[sPA][sPB];
						oldNumber.replaceChild(newLetter, oldNumber.childNodes[0]); 
						var newLetter = document.createTextNode("?");
						var oldNumber = cells[fPA][fPB];
						oldNumber.replaceChild(newLetter, oldNumber.childNodes[0]); 
					}
					
				}
				
				else
				if (clickS == 0)
				{
					fPA = parseInt(cellA);
					fPB = parseInt(cellB);
					nData = document.createTextNode(aCells[cellA][cellB]);
					oData = cells[cellA][cellB];
					firstCell = aCells[cellA][cellB];
					oData.replaceChild(nData, oData.childNodes[0]);
					clickS = 1;
				}
		}
    
        function placePuzzle()
        {
            for (var i = 0; i < 4; i++) {
                for (var j = 0; j < 4; j++) {
	
                    cells[i][j].innerHTML = "?";
                }
            }
        }

</script>
</head>
<body onload = "setup();">
<h2 align="center"><em>Concentration</em></h2>

<div id="content">

<div id = "numberz">
</div>

<table width = "60%" align = "center">

<tr>
<td height = "60">
    <span onclick = "doClick(0,0)" id = "cell00" /></td>
<td><span onclick = "doClick(0,1)" id = "cell01" /></td>
<td><span onclick = "doClick(0,2)" id = "cell02" /></td>
<td><span onclick = "doClick(0,3)" id = "cell03" /></td>
</tr>

<tr>
<td height = "60">
<span onclick = "doClick(1,0)" id = "cell10" /></td>
<td><span onclick = "doClick(1,1)" id = "cell11" /></td>
<td><span onclick = "doClick(1,2)" id = "cell12" /></td>
<td><span onclick = "doClick(1,3)" id = "cell13" /></td>
</tr>

<tr>
<td height = "60"><span  onclick = "doClick(2,0)" id = "cell20" /></td>
<td><span  onclick = "doClick(2,1)" id = "cell21" /></td>
<td><span onclick = "doClick(2,2)"  id = "cell22" /></td>
<td><span  onclick = "doClick(2,3)" id = "cell23" /></td>
</tr>

<tr>
<td height = "60">
<span  onclick = "doClick(3,0)" id = "cell30" /></td>
<td><span  onclick = "doClick(3,1)" id = "cell31" /></td>
<td><span  onclick = "doClick(3,2)" id = "cell32" /></td>
<td><span  onclick = "doClick(3,3)" id = "cell33" /></td>
</tr>

</table>

</body>
</html>

